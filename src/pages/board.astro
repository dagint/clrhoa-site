---
import BaseLayout from '../layouts/BaseLayout.astro';

const meetingLocation = import.meta.env.PUBLIC_MEETING_LOCATION ?? 'Eustis Community Center';
const meetingRoom = import.meta.env.PUBLIC_MEETING_ROOM ?? '';
const meetingLocationDisplay = meetingRoom ? `${meetingLocation}, ${meetingRoom}` : meetingLocation;
const meetingStreet = import.meta.env.PUBLIC_MEETING_ADDRESS_STREET ?? '';
const meetingCity = import.meta.env.PUBLIC_MEETING_ADDRESS_CITY ?? '';
const meetingState = import.meta.env.PUBLIC_MEETING_ADDRESS_STATE ?? '';
const meetingZip = import.meta.env.PUBLIC_MEETING_ADDRESS_ZIP ?? '';

// Build full address for display and Google Maps
const meetingAddressParts = [meetingStreet, meetingCity, meetingState, meetingZip].filter(Boolean);
const meetingFullAddress = meetingAddressParts.join(', ');
const hasAddress = meetingStreet && meetingCity && meetingState;

// Google Maps directions URL
const directionsUrl = hasAddress
  ? `https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(meetingFullAddress)}`
  : null;
---

<BaseLayout title="Board & Committees" description="Information about the HOA board members and committees">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
    <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-100 max-w-2xl mx-auto">
      <h1 class="text-4xl font-heading font-bold text-clr-green mb-6">Board of Directors & Committees</h1>

      <section class="mb-8">
        <h2 class="text-2xl font-heading font-semibold text-clr-green mb-4">Board of Directors</h2>
        <p class="text-gray-700 mb-4 font-body">
          The Board of Directors is responsible for the governance and management of the
          Crooked Lake Reserve Homeowners Association. Board members are elected by the
          homeowners and serve to represent the interests of all residents.
        </p>
        <p class="text-gray-700 mb-4 font-body">
          To contact the Board of Directors, please use the <a href="/contact" class="text-clr-orange hover:underline font-semibold">Contact</a> page
          and select "Board of Directors" as the recipient. All communications are handled securely.
        </p>
      </section>

      <section class="mb-8">
        <h2 class="text-2xl font-heading font-semibold text-clr-green mb-4">Committees</h2>
        <p class="text-gray-700 mb-4 font-body">
          The Architectural Review Board assists the board. Participation is open to homeowners.
        </p>
        <div class="space-y-4">
          <div class="border-l-4 border-clr-green pl-4 card-hover bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
            <h3 class="text-xl font-heading font-semibold text-clr-green mb-2">Architectural Review Board (ARB)</h3>
            <p class="text-gray-700 mb-3 font-body">
              Reviews and approves architectural modifications and improvements to ensure
              compliance with community standards.
            </p>
            <p class="text-gray-700 font-body text-sm mb-3">
              To contact the ARB, please use the <a href="/contact" class="text-clr-orange hover:underline font-semibold">Contact</a> page
              and select "Architectural Review Board (ARB)" as the recipient.
            </p>
            <p class="text-gray-700 font-body text-sm">
              For step-by-step instructions on submitting an ARB request, see the <a href="/arb-process" class="text-clr-orange hover:underline font-semibold">ARB Process Guide</a>.
            </p>
          </div>
        </div>
      </section>

      <section>
        <h2 class="text-2xl font-heading font-semibold text-clr-green mb-4">Annual Meeting</h2>
        <p class="text-gray-700 mb-4 font-body">
          The annual meeting is typically held on the first Sunday in February at {meetingLocationDisplay}, though the exact date may vary from year to year. The location may also change, but meetings are typically held at the Eustis Community Center.
        </p>
        {hasAddress && (
          <div class="mb-4 p-4 bg-clr-beige/30 rounded-lg border border-gray-200">
            <p class="text-gray-700 font-body font-semibold mb-2">Location:</p>
            <p class="text-gray-700 font-body mb-3">
              {meetingLocation}{meetingRoom ? `, ${meetingRoom}` : ''}<br />
              {meetingFullAddress}
            </p>
            {directionsUrl && (
              <a
                href={directionsUrl}
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center gap-2 text-clr-orange hover:underline font-semibold font-body"
              >
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" />
                </svg>
                Get Directions
              </a>
            )}
          </div>
        )}
        <p class="text-gray-700 font-body">
          Board documents are available in the <a href="/documents" class="text-clr-orange hover:underline font-semibold">Documents</a> section.
        </p>
      </section>
    </div>
  </div>
</BaseLayout>
