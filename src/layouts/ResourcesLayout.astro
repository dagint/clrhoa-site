---
import BaseLayout from './BaseLayout.astro';

interface Props {
  title: string;
  description?: string;
  currentSection?: string;
}

const { title, description, currentSection } = Astro.props;

const sections = [
  { id: 'emergency-contacts', name: 'Emergency Contacts', path: '/resources/emergency-contacts' },
  { id: 'local-resources', name: 'Local Resources', path: '/resources/local-resources' },
  { id: 'internet-services', name: 'Internet Services', path: '/resources/internet-services' },
  { id: 'vendors', name: 'Vendor List', path: '/resources/vendors' },
  { id: 'map', name: 'Community Map', path: '/resources/map' },
  { id: 'hurricane', name: 'Hurricane Preparedness', path: '/resources/hurricane' },
  { id: 'law', name: 'Florida HOA Law', path: '/resources/law' },
  { id: 'pest-control', name: 'Pest Control', path: '/resources/pest-control' },
  { id: 'water-restrictions', name: 'Water Restrictions', path: '/resources/water-restrictions' },
  { id: 'wildlife-safety', name: 'Wildlife Safety', path: '/resources/wildlife-safety' },
  { id: 'flood-insurance', name: 'Flood Insurance', path: '/resources/flood-insurance' },
  { id: 'faq', name: 'FAQ', path: '/resources/faq' },
];
---

<BaseLayout title={title} description={description}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Secondary Navigation -->
    <nav class="mb-8" aria-label="Resources navigation">
      <div class="bg-white rounded-lg shadow-sm border border-gray-100 p-4">
        <div class="flex flex-wrap gap-2 md:gap-4">
          <a
            href="/resources"
            class={`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${
              !currentSection
                ? 'bg-clr-green text-white'
                : 'text-gray-700 hover:bg-clr-beige/30 hover:text-clr-green'
            }`}
          >
            Overview
          </a>
          {sections.map((section) => (
            <a
              href={section.path}
              class={`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${
                currentSection === section.id
                  ? 'bg-clr-green text-white'
                  : 'text-gray-700 hover:bg-clr-beige/30 hover:text-clr-green'
              }`}
            >
              {section.name}
            </a>
          ))}
        </div>
      </div>
    </nav>

    <!-- Page Content -->
    <slot />
  </div>
</BaseLayout>
