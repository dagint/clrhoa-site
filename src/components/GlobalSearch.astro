---
/**
 * Global search bar for portal. Fixed or inline; submits to /portal/search?q=...
 */
interface Props {
  placeholder?: string;
  class?: string;
  fixed?: boolean;
}
const { placeholder = 'Search ARB, meetings, vendors, directory, feedback, library...', class: className = '', fixed = true } = Astro.props;
---
<div class:list={['portal-search-wrap', 'no-print', fixed && 'fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200 shadow-sm', className]} role="search">
  <form
    id="global-search-form"
    class="max-w-4xl mx-auto px-4 py-2 flex gap-2"
    action="/portal/search"
    method="get"
    role="search"
  >
    <label for="global-search-input" class="sr-only">Search portal</label>
    <input
      id="global-search-input"
      type="search"
      name="q"
      placeholder={placeholder}
      autocomplete="off"
      class="flex-1 min-w-0 rounded-lg border border-gray-200 px-4 py-2 text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-clr-green focus:border-clr-green portal-theme-input"
      aria-label="Search ARB, meetings, vendors, directory, feedback, library..."
    />
    <button
      type="submit"
      class="px-4 py-2 rounded-lg bg-clr-green text-white font-semibold text-sm hover:brightness-110 whitespace-nowrap"
    >
      Search
    </button>
  </form>
</div>
