---
/**
 * Secondary nav for admin role: site feedback, SMS requests, test email, site usage, audit logs.
 */
interface Props {
  currentPath: string;
}

import { adminLinks } from '../config/navigation';

const { currentPath } = Astro.props;

const links = adminLinks;

function isCurrent(href: string): boolean {
  if (href === '/portal/admin') return currentPath === '/portal/admin' || currentPath === '/portal/admin/';
  return currentPath === href || currentPath.startsWith(href + '/');
}
---

<nav class="bg-white border-b border-gray-200 portal-theme-header px-4 sm:px-6 py-2" aria-label="Admin">
  <div class="max-w-4xl mx-auto flex flex-wrap items-center gap-x-4 gap-y-1">
    {links.map(({ href, label }) => (
      <a
        href={href}
        class={`text-sm py-1.5 px-1 rounded hover:bg-gray-100 portal-theme-text ${isCurrent(href) ? 'font-semibold text-clr-green' : 'text-gray-600 portal-theme-text-muted hover:text-clr-green'}`}
      >
        {label}
      </a>
    ))}
  </div>
</nav>
