{
  "name": "clrhoa-site",
  "type": "module",
  "version": "1.0.0",
  "scripts": {
    "env:merge": "node scripts/merge-env-files.js",
    "predev": "npm run env:merge",
    "prestart": "npm run env:merge",
    "prebuild": "npm run env:merge",
    "dev": "astro dev",
    "start": "astro dev",
    "build": "astro build",
    "postbuild": "node scripts/defer-index-css.js",
    "preview": "wrangler pages dev ./dist",
    "db:init": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema.sql",
    "db:init:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema.sql",
    "db:arb:init": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-arb.sql",
    "db:arb:init:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-arb.sql",
    "db:arb:migrate": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-arb-v2-add-fields.sql",
    "db:arb:migrate:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-arb-v2-add-fields.sql",
    "db:arb:migrate-v3": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-arb-v3-updated-at.sql",
    "db:arb:migrate-v3:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-arb-v3-updated-at.sql",
    "db:arb:migrate-v4": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-arb-v4-copy.sql",
    "db:arb:migrate-v4:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-arb-v4-copy.sql",
    "db:arb:migrate-v5": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-arb-v5-revision-notes.sql",
    "db:arb:migrate-v5:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-arb-v5-revision-notes.sql",
    "db:arb:migrate-v6": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-arb-v6-notes.sql",
    "db:arb:migrate-v6:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-arb-v6-notes.sql",
    "db:arb:migrate-v7": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-arb-v7-deadline.sql",
    "db:arb:migrate-v7:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-arb-v7-deadline.sql",
    "db:backup": "mkdir -p backups && wrangler d1 export clrhoa_db --remote --output backups/d1-backup-$(date +%Y%m%d-%H%M%S).sql",
    "db:backup:local": "mkdir -p backups && wrangler d1 export clrhoa_db --local --output backups/d1-backup-$(date +%Y%m%d-%H%M%S).sql",
    "db:arb:migrate-v8": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-arb-v8-retention.sql",
    "db:arb:migrate-v8:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-arb-v8-retention.sql",
    "db:arb:audit": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-arb-audit.sql",
    "db:arb:audit:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-arb-audit.sql",
    "db:arb-audit-ip": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-arb-audit-ip.sql",
    "db:arb-audit-ip:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-arb-audit-ip.sql",
    "db:directory-logs-ip": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-directory-logs-ip.sql",
    "db:directory-logs-ip:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-directory-logs-ip.sql",
    "db:vendor-audit-ip": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-vendor-audit-ip.sql",
    "db:vendor-audit-ip:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-vendor-audit-ip.sql",
    "db:phase3": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-phase3.sql",
    "db:phase3:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-phase3.sql",
    "db:vendor-submissions": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-vendor-submissions.sql",
    "db:vendor-submissions:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-vendor-submissions.sql",
    "db:owners-phones": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-owners-phones.sql",
    "db:owners-phones:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-owners-phones.sql",
    "db:vendors-website": "node scripts/run-vendors-website-migration.js --remote",
    "db:vendors-website:local": "node scripts/run-vendors-website-migration.js --local",
    "db:vendor-submissions-website": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-vendor-submissions-website.sql",
    "db:vendor-submissions-website:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-vendor-submissions-website.sql",
    "db:directory-logs-email": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-directory-logs-email.sql",
    "db:directory-logs-email:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-directory-logs-email.sql",
    "db:directory-logs-viewer-role": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-directory-logs-viewer-role.sql",
    "db:directory-logs-viewer-role:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-directory-logs-viewer-role.sql",
    "db:owners-audit-contact": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-owners-audit-contact.sql",
    "db:owners-audit-contact:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-owners-audit-contact.sql",
    "db:owners-created-at": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-owners-created-at.sql",
    "db:owners-created-at:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-owners-created-at.sql",
    "db:phase4": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-phase4.sql",
    "db:phase4:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-phase4.sql",
    "db:phase35": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-phase35-users-notifications.sql",
    "db:phase35:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-phase35-users-notifications.sql",
    "db:phase35-notification-types": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-phase35-notification-types.sql",
    "db:phase35-notification-types:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-phase35-notification-types.sql",
    "db:phase5": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-phase5.sql",
    "db:phase5:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-phase5.sql",
    "db:phase5-paid-through": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-phase5-paid-through.sql",
    "db:phase5-paid-through:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-phase5-paid-through.sql",
    "db:phase5-special-assessments": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-phase5-special-assessments.sql",
    "db:phase5-special-assessments:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-phase5-special-assessments.sql",
    "db:phase6": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-phase6-preapproval.sql",
    "db:phase6:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-phase6-preapproval.sql",
    "db:phase6-approved": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-phase6-preapproval-approved.sql",
    "db:phase6-approved:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-phase6-preapproval-approved.sql",
    "db:login-history": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-login-history.sql",
    "db:login-history:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-login-history.sql",
    "db:public-documents": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-public-documents.sql",
    "db:public-documents:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-public-documents.sql",
    "db:member-documents": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-member-documents.sql",
    "db:member-documents:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-member-documents.sql",
    "db:backup-config": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-backup-config.sql",
    "db:backup-config:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-backup-config.sql",
    "db:backup-config-last-run": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-backup-config-last-run.sql",
    "db:backup-config-last-run:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-backup-config-last-run.sql",
    "db:backup-config-google-last": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-backup-config-google-last.sql",
    "db:backup-config-google-last:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-backup-config-google-last.sql",
    "db:assessment-recorded-by": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-assessment-payments-recorded-by.sql",
    "db:assessment-recorded-by:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-assessment-payments-recorded-by.sql",
    "db:assessment-paid-through-after": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-assessment-payments-paid-through-after.sql",
    "db:assessment-paid-through-after:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-assessment-payments-paid-through-after.sql",
    "db:assessment-payments-method-check": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-assessment-payments-method-check.sql",
    "db:assessment-payments-method-check:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-assessment-payments-method-check.sql",
    "db:owners-primary": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-owners-primary.sql",
    "db:owners-primary:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-owners-primary.sql",
    "db:owners-updated-by": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-owners-updated-by.sql",
    "db:owners-updated-by:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-owners-updated-by.sql",
    "db:owners-lot-number": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-owners-lot-number.sql",
    "db:owners-lot-number:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-owners-lot-number.sql",
    "db:site-feedback": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-site-feedback.sql",
    "db:site-feedback:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-site-feedback.sql",
    "db:contact-submissions": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-contact-submissions.sql",
    "db:contact-submissions:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-contact-submissions.sql",
    "db:contact-submissions-delete-expired": "wrangler d1 execute clrhoa_db --remote --file=./scripts/contact-submissions-delete-expired.sql",
    "db:contact-submissions-delete-expired:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/contact-submissions-delete-expired.sql",
    "db:sms-feature-requests": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-sms-feature-requests.sql",
    "db:sms-feature-requests:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-sms-feature-requests.sql",
    "db:page-views": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-page-views.sql",
    "db:page-views:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-page-views.sql",
    "db:news-items": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-news-items.sql",
    "db:news-items:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-news-items.sql",
    "db:news-items-placement": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-news-items-placement-and-images.sql",
    "db:news-items-placement:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-news-items-placement-and-images.sql",
    "db:pim-elevation": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-pim-elevation.sql",
    "db:pim-elevation:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-pim-elevation.sql",
    "db:admin-assumed-role": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-admin-assumed-role.sql",
    "db:admin-assumed-role:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-admin-assumed-role.sql",
    "db:admin-assumed-role-actor": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-admin-assumed-role-actor-role.sql",
    "db:admin-assumed-role-actor:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-admin-assumed-role-actor-role.sql",
    "db:meetings-post-to-public": "node scripts/run-meetings-post-to-public.js --remote",
    "db:meetings-post-to-public:local": "node scripts/run-meetings-post-to-public.js --local",
    "db:vendors-show-on-public": "node scripts/run-vendors-show-on-public.js --remote",
    "db:vendors-show-on-public:local": "node scripts/run-vendors-show-on-public.js --local",
    "db:vendor-audit": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-vendor-audit.sql",
    "db:vendor-audit:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-vendor-audit.sql",
    "db:notification-dismissals": "wrangler d1 execute clrhoa_db --remote --file=./scripts/schema-notification-dismissals.sql",
    "db:notification-dismissals:local": "wrangler d1 execute clrhoa_db --local --file=./scripts/schema-notification-dismissals.sql",
    "db:local:all": "node scripts/run-all-db-local.js",
    "db:remote:all": "node scripts/run-all-db-remote.js",
    "astro": "astro",
    "test": "vitest",
    "test:ui": "vitest --ui",
    "test:coverage": "vitest --coverage",
    "lint": "astro check",
    "audit": "npm audit",
    "audit:fix": "npm audit fix",
    "sri": "node scripts/generate-sri.js",
    "optimize:hero": "node scripts/optimize-hero-images.js",
    "backup:deploy": "wrangler deploy --config workers/backup/wrangler.toml",
    "contact-cleanup:deploy": "wrangler deploy --config workers/contact-cleanup/wrangler.toml",
    "secrets:list": "node scripts/list-required-secrets.js",
    "secrets:setup": "node scripts/setup-github-secrets.js",
    "secrets:sync": "node scripts/sync-secrets-to-cloudflare.js",
    "secrets:create-stubs": "node scripts/create-github-secrets-stubs.js",
    "secrets:export": "node scripts/export-github-secrets-template.js",
    "secrets:export-from-env": "node scripts/export-secrets-from-env.js",
    "secrets:update": "node scripts/update-github-secrets-from-file.js",
    "vars:list": "node scripts/list-all-env-vars.js",
    "vars:export": "node scripts/export-github-vars-template.js",
    "vars:update": "node scripts/update-github-vars-from-file.js"
  },
  "dependencies": {
    "@astrojs/cloudflare": "^12.0.0",
    "@astrojs/tailwind": "^5.1.0",
    "astro": "^5.17.1",
    "chart.js": "^4.4.1",
    "tailwindcss": "^3.4.1",
    "twilio": "^5.3.0"
  },
  "devDependencies": {
    "@astrojs/check": "^0.9.6",
    "@cloudflare/workers-types": "^4.20241022.0",
    "@types/node": "^20.14.0",
    "@vitest/ui": "^4.0.18",
    "jsdom": "^24.1.0",
    "sharp": "^0.33.5",
    "terser": "^5.36.0",
    "typescript": "^5.9.3",
    "vitest": "^4.0.18",
    "wrangler": "^4.63.0"
  },
  "overrides": {
    "undici": ">=7.18.2",
    "@astrojs/cloudflare": {
      "wrangler": "4.59.1"
    }
  }
}
